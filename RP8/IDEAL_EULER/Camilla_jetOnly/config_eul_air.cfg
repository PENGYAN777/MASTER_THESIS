%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                              %
% SU2 configuration file                                                       %
% Case description: underexp jet                                                                              %
% Author: CCC                                                                                                                              %
% Institution: PoliMi                                                                                                              %
% Date: Nov. 2019                                                              %
% File Version 7.0                                                  %
%                                                                              %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ------------- DIRECT, ADJOINT, AND LINEARIZED PROBLEM DEFINITION ------------%
%
SOLVER= EULER
KIND_TURB_MODEL= NONE
MATH_PROBLEM= DIRECT
RESTART_SOL= YES
AXISYMMETRIC= YES
%
% -------------------- COMPRESSIBLE FREE-STREAM DEFINITION --------------------%
%
MACH_NUMBER= 1
AOA= 0
SIDESLIP_ANGLE= 0.0
INIT_OPTION= TD_CONDITIONS
FREESTREAM_OPTION= TEMPERATURE_FS
FREESTREAM_PRESSURE= 1.5+05
FREESTREAM_TEMPERATURE= 273.0
%
% ---------------------- REFERENCE VALUE DEFINITION ---------------------------%
%
REF_DIMENSIONALIZATION= DIMENSIONAL
%
% ---- IDEAL GAS, POLYTROPIC, VAN DER WAALS AND PENG ROBINSON CONSTANTS -------%
%
FLUID_MODEL= IDEAL_GAS
GAMMA_VALUE= 1.4
GAS_CONSTANT= 287.058
CRITICAL_TEMPERATURE= 131.00
CRITICAL_PRESSURE= 3588550.0
ACENTRIC_FACTOR= 0.035
%
% --------------------------- VISCOSITY MODEL ---------------------------------%
%
VISCOSITY_MODEL= SUTHERLAND
MU_CONSTANT= 1.716E-5
MU_REF= 1.716E-5
MU_T_REF= 273.15
SUTHERLAND_CONSTANT= 110.4
%
% --------------------------- THERMAL CONDUCTIVITY MODEL ----------------------%
%
CONDUCTIVITY_MODEL= CONSTANT_PRANDTL
KT_CONSTANT= 0.0257
%
% -------------------- BOUNDARY CONDITION DEFINITION --------------------------%
%
% MARKER_EULER= ( 3 )
% MARKER_SYM = (5 )
% STATIC_SUPERSONIC_INFLOW_PT: P_STATIC, T_STATIC, MACH_X, MACH_Y, MACH_Z    
% MARKER_RIEMANN= ( 1, STATIC_SUPERSONIC_INFLOW_PT, 2.16e+05, 205, 1.5, 0.0, 0.0, 4, STATIC_PRESSURE, 1E+05, 0.0, 0.0, 0.0, 0.0 )                                                                                        
% MARKER_SUPERSONIC_INLET= ( 1, 253.204, 295708, 430.952, 0.0, 0.0 )
% MARKER_OUTLET= (3, 100428.75, 4, 100428.75)

% MARKER_SUPERSONIC_INLET= ( 1, , 300.0, 100000.0, 695.4290761824674, 0.0, 0.0, 3, , 273.0, 150000.0, 200, 0.0, 0.0, 2, , 273.0, 150000.0, 200, 0.0, 0.0)
% MARKER_OUTLET= ( 4, 150000 )


% MARKER_RIEMANN= (  1, STATIC_SUPERSONIC_INFLOW_PT, 2.16e+05, 205, 1.5, 0.0, 0.0, 4, STATIC_PRESSURE, 100430, 0.0, 0.0, 0.0, 0.0, 3, STATIC_PRESSURE, 100430, 0.0, 0.0, 0.0, 0.0 )

% MARKER_RIEMANN= ( 1, STATIC_SUPERSONIC_INFLOW_PT, 2.16e+05, 205, 1.5, 0.0, 0.0, 3, STATIC_PRESSURE, 100430, 0.0, 0.0, 0.0, 0.0, 4, STATIC_PRESSURE, 100430, 0.0, 0.0, 0.0, 0.0, 2, STATIC_SUPERSONIC_INFLOW_PT,100430, 300, 0.1, 0.0, 0.0, )
% MARKER_RIEMANN= ( 1, STATIC_SUPERSONIC_INFLOW_PT, 2.16e+05, 205, 1.5, 0.0, 0.0, 4, STATIC_PRESSURE, 100430, 0.0, 0.0, 0.0, 0.0, 2, STATIC_SUPERSONIC_INFLOW_PT, 100430, 300, 0.1, 0.0, 0.0, )

MARKER_SUPERSONIC_INLET= ( 1, , 300.0, 100000.0, 695.4290761824674, 0.0, 0.0, 3, , 273.0, 150000.0, 200, 0.0, 0.0, 2, , 273.0, 150000.0, 200, 0.0, 0.0)
MARKER_OUTLET= ( 4, 150000 )
MARKER_SYM = (5 )


%
% ------------- COMMON PARAMETERS DEFINING THE NUMERICAL METHOD ---------------%
%
NUM_METHOD_GRAD= GREEN_GAUSS
%
% CFL_NUMBER= 5 
CFL_NUMBER= 1
CFL_ADAPT= YES
CFL_ADAPT_PARAM= ( 0.5, 1.5, 5, 500.0 )
%
% ----------- SLOPE LIMITER AND DISSIPATION SENSOR DEFINITION -----------------%
%
% Monotonic Upwind Scheme for Conservation Laws (TVD) in the flow equations.
%           Required for 2nd order upwind schemes (NO, YES)
MUSCL_FLOW= YES
%
% Slope limiter (NONE, VENKATAKRISHNAN, VENKATAKRISHNAN_WANG,
%                BARTH_JESPERSEN, VAN_ALBADA_EDGE)
SLOPE_LIMITER_FLOW= VENKATAKRISHNAN
%
% Coefficient for the Venkat's limiter (upwind scheme). A larger values decrease
%             the extent of limiting, values approaching zero cause
%             lower-order approximation to the solution (0.05 by default)
VENKAT_LIMITER_COEFF= 0.01
%
% Freeze the value of the limiter after a number of iterations
LIMITER_ITER= 999999
%
%ENTROPY_FIX_COEFF= 0.1

%
% ------------------------ LINEAR SOLVER DEFINITION ---------------------------%
%
% Linear solver or smoother for implicit formulations (BCGSTAB, FGMRES, SMOOTHER_JACOBI,
%                                                      SMOOTHER_ILU, SMOOTHER_LUSGS,
%                                                      SMOOTHER_LINELET)
LINEAR_SOLVER= FGMRES
%
% Preconditioner of the Krylov linear solver (ILU, LU_SGS, LINELET, JACOBI)
LINEAR_SOLVER_PREC= LU_SGS 
%
% Linael solver ILU preconditioner fill-in level (0 by default)
LINEAR_SOLVER_ILU_FILL_IN= 0
%
% Minimum error of the linear solver for implicit formulations
LINEAR_SOLVER_ERROR= 1E-6
%
% Max number of iterations of the linear solver for the implicit formulation
LINEAR_SOLVER_ITER= 10

% -------------------------- MULTIGRID PARAMETERS -----------------------------%
%
MGLEVEL= 0
MGCYCLE= V_CYCLE
MG_PRE_SMOOTH= ( 1, 2, 3, 3 )
MG_POST_SMOOTH= ( 0, 0, 0, 0 )
MG_CORRECTION_SMOOTH= ( 0, 0, 0, 0 )
MG_DAMP_RESTRICTION= 0.75
MG_DAMP_PROLONGATION= 0.75

% -------------------- FLOW NUMERICAL METHOD DEFINITION -----------------------%
%
% Convective numerical method (JST, LAX-FRIEDRICH, CUSP, ROE, AUSM, HLLC,
%                              TURKEL_PREC, MSW)
CONV_NUM_METHOD_FLOW= ROE
%
% Time discretization (RUNGE-KUTTA_EXPLICIT, EULER_IMPLICIT, EULER_EXPLICIT)
TIME_DISCRE_FLOW= EULER_IMPLICIT

% -------------------- TURBULENT NUMERICAL METHOD DEFINITION ------------------%
%
% Convective numerical method (SCALAR_UPWIND)
CONV_NUM_METHOD_TURB= SCALAR_UPWIND
%
% Time discretization (EULER_IMPLICIT)
TIME_DISCRE_TURB= EULER_IMPLICIT
%
% Reduction factor of the CFL coefficient in the turbulence problem
CFL_REDUCTION_TURB= 1.0




% Number of total iterations
ITER= 50000 
%
% Convergence criteria (CAUCHY, RESIDUAL)
%
CONV_CRITERIA= RESIDUAL
%
% Residual reduction (order of magnitude with respect to the initial value)
% RESIDUAL_REDUCTION= 9
%CONV_RESIDUAL_MINVAL= -9
%
% Min value of the residual (log10 of the residual)
CONV_RESIDUAL_MINVAL= -20
%
% Start convergence criteria at iteration number
CONV_STARTITER= 10


% ------------------------ SURFACES IDENTIFICATION ----------------------------%

% Marker(s) of the surface in the surface flow solution file
% MARKER_PLOTTING = ( PITTIP, PITTOP )

% Marker(s) of the surface that is going to be analyzed in detail (massflow, average pressure, distortion, etc)
% MARKER_ANALYZE = ( PITTIP, PITTOP )
%
% Method to compute the average value in MARKER_ANALYZE (AREA, MASSFLUX).
% MARKER_ANALYZE_AVERAGE = AREA


% ------------------------- INPUT/OUTPUT INFORMATION --------------------------%

%
% Mesh input file
MESH_FILENAME= grid.jet_eul.su2

% Mesh input file format (SU2, CGNS)
MESH_FORMAT= SU2
%
% Mesh output file
MESH_OUT_FILENAME= mesh_out.su2
%
% Restart flow input file
SOLUTION_FILENAME= solution_flow.dat
%
% Output file format (TECPLOT, TECPLOT_BINARY, PARAVIEW,
%                     FIELDVIEW, FIELDVIEW_BINARY)
OUTPUT_FILES= (RESTART, RESTART_ASCII, PARAVIEW_ASCII, TECPLOT_ASCII,SURFACE_PARAVIEW_ASCII,SURFACE_CSV)
%TECPLOT_ASCII, PARAVIEW, PARAVIEW_ASCII)
%
% Output tabular file format (TECPLOT, CSV)
TABULAR_FORMAT= TECPLOT
%
% Output file convergence history (w/o extension)
CONV_FILENAME= history
%
% Output file restart flow
RESTART_FILENAME= restart_flow.dat
%
% Output file flow (w/o extension) variables
VOLUME_FILENAME= flow

% Volume output fields/groups (use 'SU2_CFD -d <config_file>' to view list of available fields)
VOLUME_OUTPUT= (COORDINATES, SOLUTION, PRIMITIVE)
%
% Output file surface flow coefficient (w/o extension)
SURFACE_FILENAME= surface_flow
%
% Writing solution file frequency
OUTPUT_WRT_FREQ= 1000
%
% Writing solution file frequency for physical time steps (dual time)
%OUTPUT_WRT_FREQ= 1
%
% Writing convergence history frequency
SCREEN_WRT_FREQ_INNER= 1
%
% Writing convergence history frequency (dual time, only written to screen)
SCREEN_WRT_FREQ_TIME= 1
%
% Output residual values in the solution files
%WRT_RESIDUALS= YES
%VOLUME_OUTPUIT= ( RESIDUAL ,MACH) 
%
% Output limiters values in the solution files
%WRT_LIMITERS= NO
%
% Output the sharp edges detector
%WRT_SHARPEDGES= NO
%
% Output the solution at each surface in the history file
%WRT_SURFACE= NO


%WRT_BINARY_RESTART= NO
%READ_BINARY_RESTART= YES

